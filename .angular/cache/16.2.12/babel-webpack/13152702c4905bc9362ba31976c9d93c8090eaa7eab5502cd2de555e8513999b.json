{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductDetailsComponent = class ProductDetailsComponent {\n  constructor(route, getData, dataStorage, router, authService) {\n    this.route = route;\n    this.getData = getData;\n    this.dataStorage = dataStorage;\n    this.router = router;\n    this.authService = authService;\n    this.storeCartData = [];\n    this.inCart = false;\n    this.showLoginModal = false;\n    this.showRegisterModal = false;\n  }\n  ngOnInit() {\n    this.getParamValue = this.route.snapshot.paramMap.get('id');\n    //Sepet verisini her zaman localstorage'dan al\n    var getVal = this.dataStorage.getCartData();\n    this.storeCartData = getVal ? getVal : [];\n    this.getData.productData.filter(ele => {\n      if (ele.pdId == this.getParamValue) {\n        this.getProductDetails = ele;\n      }\n    });\n    this.storeCartData.filter(ele => {\n      if (ele.pdId == this.getParamValue) {\n        this.inCart = true;\n      }\n    });\n  }\n  addCart(data) {\n    if (this.authService.isLoggedIn()) {\n      data['plusMinusCounter'] = 1;\n      this.storeCartData.push(data);\n      this.dataStorage.storeCartData(this.storeCartData);\n      this.router.navigate(['/cart']);\n    } else {\n      this.showLoginModal = true;\n    }\n  }\n  closeModal() {\n    this.showLoginModal = false;\n    this.showRegisterModal = false;\n  }\n  openRegisterModal() {\n    this.showLoginModal = false;\n    this.showRegisterModal = true;\n  }\n  loginSuccess() {\n    this.showLoginModal = false;\n    this.addCart(this.getProductDetails);\n  }\n  registerSuccess() {\n    this.showRegisterModal = false;\n    this.addCart(this.getProductDetails);\n  }\n};\nProductDetailsComponent = __decorate([Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})], ProductDetailsComponent);","map":{"version":3,"names":["Component","ProductDetailsComponent","constructor","route","getData","dataStorage","router","authService","storeCartData","inCart","showLoginModal","showRegisterModal","ngOnInit","getParamValue","snapshot","paramMap","get","getVal","getCartData","productData","filter","ele","pdId","getProductDetails","addCart","data","isLoggedIn","push","navigate","closeModal","openRegisterModal","loginSuccess","registerSuccess","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ayvaz\\OneDrive\\Masaüstü\\shoppingcartwithangularproject-main\\src\\app\\product-details\\product-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GetDataService } from '../service/get-data.service';\nimport { DataStorageService } from '../service/data-storage.service';\nimport { AuthService } from '../service/auth.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})\nexport class ProductDetailsComponent implements OnInit{\n\n  constructor(private route:ActivatedRoute,private getData:GetDataService,private dataStorage:DataStorageService,\n    private router:Router, private authService:AuthService){}\n\n  getParamValue:any;\n  getProductDetails:any;\n  storeCartData:any=[];\n  inCart:boolean=false;\n  showLoginModal:boolean=false;\n  showRegisterModal:boolean = false;\n\n\n  ngOnInit(): void {\n      this.getParamValue = this.route.snapshot.paramMap.get('id');\n\n     //Sepet verisini her zaman localstorage'dan al\n     var getVal = this.dataStorage.getCartData()\n\n      this.storeCartData = getVal ? getVal : [];\n     \n      this.getData.productData.filter((ele:any)=>{\n        if(ele.pdId == this.getParamValue)\n        {\n            this.getProductDetails = ele;\n        }\n      });\n\n      this.storeCartData.filter((ele:any)=>{\n          if(ele.pdId == this.getParamValue)\n          {\n              this.inCart=true;\n          }\n      });\n  }\n\n  addCart(data:any)\n  {\n      if(this.authService.isLoggedIn()){\n          data['plusMinusCounter']=1;\n        this.storeCartData.push(data);\n        this.dataStorage.storeCartData(this.storeCartData);\n        this.router.navigate(['/cart']);\n      }\n      else\n      {\n          this.showLoginModal = true;\n      }\n  }\n\n  closeModal() {\n      this.showLoginModal = false;\n      this.showRegisterModal= false;\n  }\n\n  openRegisterModal(){\n    this.showLoginModal=false;\n    this.showRegisterModal = true;\n\n  }\n  \n    loginSuccess(){\n        this.showLoginModal = false;\n        this.addCart(this.getProductDetails)\n      \n    }\n    registerSuccess(){\n      this.showRegisterModal = false;\n       this.addCart(this.getProductDetails)\n    }\n\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAElCC,YAAoBC,KAAoB,EAASC,OAAsB,EAASC,WAA8B,EACpGC,MAAa,EAAUC,WAAuB;IADpC,KAAAJ,KAAK,GAALA,KAAK;IAAwB,KAAAC,OAAO,GAAPA,OAAO;IAAwB,KAAAC,WAAW,GAAXA,WAAW;IACjF,KAAAC,MAAM,GAANA,MAAM;IAAiB,KAAAC,WAAW,GAAXA,WAAW;IAI5C,KAAAC,aAAa,GAAK,EAAE;IACpB,KAAAC,MAAM,GAAS,KAAK;IACpB,KAAAC,cAAc,GAAS,KAAK;IAC5B,KAAAC,iBAAiB,GAAW,KAAK;EAPyB;EAU1DC,QAAQA,CAAA;IACJ,IAAI,CAACC,aAAa,GAAG,IAAI,CAACV,KAAK,CAACW,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAE5D;IACA,IAAIC,MAAM,GAAG,IAAI,CAACZ,WAAW,CAACa,WAAW,EAAE;IAE1C,IAAI,CAACV,aAAa,GAAGS,MAAM,GAAGA,MAAM,GAAG,EAAE;IAEzC,IAAI,CAACb,OAAO,CAACe,WAAW,CAACC,MAAM,CAAEC,GAAO,IAAG;MACzC,IAAGA,GAAG,CAACC,IAAI,IAAI,IAAI,CAACT,aAAa,EACjC;QACI,IAAI,CAACU,iBAAiB,GAAGF,GAAG;;IAElC,CAAC,CAAC;IAEF,IAAI,CAACb,aAAa,CAACY,MAAM,CAAEC,GAAO,IAAG;MACjC,IAAGA,GAAG,CAACC,IAAI,IAAI,IAAI,CAACT,aAAa,EACjC;QACI,IAAI,CAACJ,MAAM,GAAC,IAAI;;IAExB,CAAC,CAAC;EACN;EAEAe,OAAOA,CAACC,IAAQ;IAEZ,IAAG,IAAI,CAAClB,WAAW,CAACmB,UAAU,EAAE,EAAC;MAC7BD,IAAI,CAAC,kBAAkB,CAAC,GAAC,CAAC;MAC5B,IAAI,CAACjB,aAAa,CAACmB,IAAI,CAACF,IAAI,CAAC;MAC7B,IAAI,CAACpB,WAAW,CAACG,aAAa,CAAC,IAAI,CAACA,aAAa,CAAC;MAClD,IAAI,CAACF,MAAM,CAACsB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;KAChC,MAED;MACI,IAAI,CAAClB,cAAc,GAAG,IAAI;;EAElC;EAEAmB,UAAUA,CAAA;IACN,IAAI,CAACnB,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,iBAAiB,GAAE,KAAK;EACjC;EAEAmB,iBAAiBA,CAAA;IACf,IAAI,CAACpB,cAAc,GAAC,KAAK;IACzB,IAAI,CAACC,iBAAiB,GAAG,IAAI;EAE/B;EAEEoB,YAAYA,CAAA;IACR,IAAI,CAACrB,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACc,OAAO,CAAC,IAAI,CAACD,iBAAiB,CAAC;EAExC;EACAS,eAAeA,CAAA;IACb,IAAI,CAACrB,iBAAiB,GAAG,KAAK;IAC7B,IAAI,CAACa,OAAO,CAAC,IAAI,CAACD,iBAAiB,CAAC;EACvC;CAEH;AAvEYtB,uBAAuB,GAAAgC,UAAA,EALnCjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACWnC,uBAAuB,CAuEnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}