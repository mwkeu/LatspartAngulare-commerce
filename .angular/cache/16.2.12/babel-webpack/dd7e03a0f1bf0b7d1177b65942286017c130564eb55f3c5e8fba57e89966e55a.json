{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductDetailsComponent = class ProductDetailsComponent {\n  constructor(route, getData, dataStorage, router, authService) {\n    this.route = route;\n    this.getData = getData;\n    this.dataStorage = dataStorage;\n    this.router = router;\n    this.authService = authService;\n    this.storeCartData = [];\n    this.inCart = false;\n    this.showLoginModal = false;\n    this.showRegisterModal = false;\n    this.comments = [{\n      user: 'User',\n      comment: 'This product is amazing. I loved it so much',\n      rating: 5\n    }, {\n      user: 'User',\n      comment: 'This is my second purchase. Thank you',\n      rating: 4\n    }, {\n      user: 'User',\n      comment: 'good value.I recommed this product ',\n      rating: 3\n    }];\n    this.averageRating = 4;\n  }\n  ngOnInit() {\n    this.getParamValue = this.route.snapshot.paramMap.get('id');\n    var getVal = this.dataStorage.getCartData();\n    this.storeCartData = getVal ? getVal : [];\n    this.getData.productData.filter(ele => {\n      if (ele.pdId == this.getParamValue) {\n        this.getProductDetails = ele;\n      }\n    });\n    this.storeCartData.filter(ele => {\n      if (ele.pdId == this.getParamValue) {\n        this.inCart = true;\n      }\n    });\n  }\n  addCart(data) {\n    if (this.authService.isLoggedIn()) {\n      data['plusMinusCounter'] = 1;\n      this.storeCartData.push(data);\n      this.dataStorage.storeCartData(this.storeCartData);\n      this.router.navigate(['/cart']);\n    } else {\n      this.authService.resetAuth();\n      this.showLoginModal = true;\n    }\n  }\n  closeModal() {\n    this.showLoginModal = false;\n    this.showRegisterModal = false;\n  }\n  openRegisterModal() {\n    this.showLoginModal = false;\n    this.showRegisterModal = true;\n  }\n  loginSuccess() {\n    this.showLoginModal = false;\n    this.addCart(this.getProductDetails);\n  }\n  registerSuccess() {\n    this.showRegisterModal = false;\n    this.addCart(this.getProductDetails);\n  }\n  get starArray() {\n    return Array(5).fill(0).map((x, i) => i + 1);\n  }\n};\nProductDetailsComponent = __decorate([Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})], ProductDetailsComponent);","map":{"version":3,"names":["Component","ProductDetailsComponent","constructor","route","getData","dataStorage","router","authService","storeCartData","inCart","showLoginModal","showRegisterModal","comments","user","comment","rating","averageRating","ngOnInit","getParamValue","snapshot","paramMap","get","getVal","getCartData","productData","filter","ele","pdId","getProductDetails","addCart","data","isLoggedIn","push","navigate","resetAuth","closeModal","openRegisterModal","loginSuccess","registerSuccess","starArray","Array","fill","map","x","i","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ayvaz\\OneDrive\\Masaüstü\\shoppingcartwithangularproject-main\\src\\app\\product-details\\product-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GetDataService } from '../service/get-data.service';\nimport { DataStorageService } from '../service/data-storage.service';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})\nexport class ProductDetailsComponent implements OnInit {\n\n  constructor(private route: ActivatedRoute, private getData: GetDataService, private dataStorage: DataStorageService,\n    private router: Router, private authService: AuthService) {}\n\n\n  getParamValue: any;\n  getProductDetails: any;\n  storeCartData: any = [];\n  inCart: boolean = false;\n  showLoginModal: boolean = false;\n  showRegisterModal: boolean = false;\n\n\n   comments = [\n      { user: 'User', comment: 'This product is amazing. I loved it so much', rating: 5 },\n     { user: 'User', comment: 'This is my second purchase. Thank you', rating: 4 },\n    { user: 'User', comment: 'good value.I recommed this product ', rating: 3 }\n\n    ];\n  averageRating:number = 4 ;\n  \n\n    ngOnInit(): void {\n       \n       this.getParamValue = this.route.snapshot.paramMap.get('id');\n\n       var getVal = this.dataStorage.getCartData()\n\n         this.storeCartData = getVal ? getVal : [];\n\n      this.getData.productData.filter((ele: any) => {\n        if (ele.pdId == this.getParamValue) {\n        this.getProductDetails = ele;\n         }\n    });\n  this.storeCartData.filter((ele: any) => {\n        if (ele.pdId == this.getParamValue) {\n            this.inCart = true;\n      }\n   });\n   }\n\n\n  addCart(data: any) {\n  if (this.authService.isLoggedIn()) {\n   data['plusMinusCounter'] = 1;\n    this.storeCartData.push(data);\n      this.dataStorage.storeCartData(this.storeCartData);\n         this.router.navigate(['/cart']);\n        } else {\n      this.authService.resetAuth();\n      this.showLoginModal = true;\n          }\n   }\n\n    closeModal() {\n      this.showLoginModal = false;\n      this.showRegisterModal = false;\n  }\n    openRegisterModal() {\n      this.showLoginModal = false;\n    this.showRegisterModal = true;\n }\n\n   loginSuccess() {\n       this.showLoginModal = false;\n     this.addCart(this.getProductDetails)\n\n    }\n\n    registerSuccess() {\n       this.showRegisterModal = false;\n        this.addCart(this.getProductDetails)\n        }\n    get starArray() {\n           return Array(5).fill(0).map((x, i) => i+1)\n      }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}