{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction LoginComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Email gerekli \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" \\u015Eifre gerekli \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.closeModalEvent = new EventEmitter();\n    this.openRegisterEvent = new EventEmitter();\n    this.loginSuccessEvent = new EventEmitter();\n  }\n  login(loginForm) {\n    if (loginForm.valid) {\n      const email = loginForm.value.email;\n      const password = loginForm.value.password;\n      const registeredUsers = this.authService.getRegisteredUsers();\n      const user = registeredUsers.find(user => user.email == email && user.password == password);\n      if (user) {\n        localStorage.setItem('isAuthenticated', 'true');\n        this.authService.login();\n        this.loginSuccessEvent.emit();\n      } else {\n        alert(\"Kullanıcı adı veya şifre hatalı.\");\n      }\n    }\n  }\n  closeLoginModal() {\n    this.closeModalEvent.emit();\n  }\n  openRegister() {\n    this.openRegisterEvent.emit();\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    outputs: {\n      closeModalEvent: \"closeModalEvent\",\n      openRegisterEvent: \"openRegisterEvent\",\n      loginSuccessEvent: \"loginSuccessEvent\"\n    },\n    decls: 28,\n    vars: 7,\n    consts: [[1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"mb-3\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"ngModel\", \"\", 1, \"form-control\"], [\"email\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", \"ngModel\", \"\", 1, \"form-control\"], [\"password\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-warning\", 3, \"disabled\"], [1, \"mt-2\", \"mb-2\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"text-danger\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h5\", 4);\n        i0.ɵɵtext(5, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_6_listener() {\n          return ctx.closeLoginModal();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7, 8);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_8_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementStart(10, \"div\", 9)(11, \"label\", 10);\n        i0.ɵɵtext(12, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 11, 12);\n        i0.ɵɵtemplate(15, LoginComponent_div_15_Template, 2, 0, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 9)(17, \"label\", 14);\n        i0.ɵɵtext(18, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 15, 16);\n        i0.ɵɵtemplate(21, LoginComponent_div_21_Template, 2, 0, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 17);\n        i0.ɵɵtext(23, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"p\", 18);\n        i0.ɵɵtext(25, \"Dont Have an account ? \");\n        i0.ɵɵelementStart(26, \"a\", 19);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_26_listener() {\n          return ctx.openRegister();\n        });\n        i0.ɵɵtext(27, \"Register Now\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(9);\n        const _r1 = i0.ɵɵreference(14);\n        const _r3 = i0.ɵɵreference(20);\n        i0.ɵɵstyleProp(\"display\", true ? \"block\" : \"none\");\n        i0.ɵɵclassProp(\"show\", true);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngIf\", _r1.invalid && (_r1.dirty || _r1.touched));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent","constructor","authService","closeModalEvent","openRegisterEvent","loginSuccessEvent","login","loginForm","valid","email","value","password","registeredUsers","getRegisteredUsers","user","find","localStorage","setItem","emit","alert","closeLoginModal","openRegister","_","ɵɵdirectiveInject","i1","AuthService","_2","selectors","outputs","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_button_click_6_listener","LoginComponent_Template_form_ngSubmit_8_listener","ɵɵelement","ɵɵtemplate","LoginComponent_div_15_Template","LoginComponent_div_21_Template","LoginComponent_Template_a_click_26_listener","ɵɵstyleProp","ɵɵclassProp","ɵɵadvance","ɵɵproperty","_r1","invalid","dirty","touched","_r3","_r0"],"sources":["C:\\Users\\ayvaz\\OneDrive\\Masaüstü\\shoppingcartwithangularproject-main\\src\\app\\login\\login.component.ts","C:\\Users\\ayvaz\\OneDrive\\Masaüstü\\shoppingcartwithangularproject-main\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n    constructor(private authService:AuthService) { }\n\n    @Output() closeModalEvent = new EventEmitter<void>();\n    @Output() openRegisterEvent = new EventEmitter<void>();\n    @Output() loginSuccessEvent = new EventEmitter<void>();\n  \n    login(loginForm: NgForm) {\n        if (loginForm.valid) {\n          const email = loginForm.value.email;\n          const password = loginForm.value.password;\n       \n        const registeredUsers = this.authService.getRegisteredUsers()\n           const user = registeredUsers.find((user:any)=> user.email == email && user.password == password)\n            if (user) {\n              localStorage.setItem('isAuthenticated', 'true');\n              this.authService.login();\n              this.loginSuccessEvent.emit();\n             }\n              else {\n                alert(\"Kullanıcı adı veya şifre hatalı.\");\n               }\n\n           \n      }\n    }\n   \n    closeLoginModal() {\n       this.closeModalEvent.emit();\n    }\n  \n    openRegister(){\n     this.openRegisterEvent.emit();\n   }\n\n}","<div class=\"modal fade\"  [class.show]=\"true\"  [style.display]=\"true ? 'block' : 'none'\">\n    <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Login</h5>\n                <button type=\"button\" class=\"btn-close\"  (click)=\"closeLoginModal()\"></button>\n            </div>\n            <div class=\"modal-body\">\n                <form #loginForm=\"ngForm\" (ngSubmit)=\"login()\">\n                    <div class=\"mb-3\">\n                        <label for=\"email\" class=\"form-label\">Email</label>\n                        <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" #email=\"ngModel\"  required ngModel>\n                          <div class=\"text-danger\" *ngIf=\"email.invalid && (email.dirty || email.touched)\"> Email gerekli\n                       </div>\n                      </div>\n                    <div class=\"mb-3\">\n                        <label for=\"password\" class=\"form-label\">Password</label>\n                        <input type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" #password=\"ngModel\"  required  ngModel>\n                        <div class=\"text-danger\" *ngIf=\"password.invalid && (password.dirty || password.touched)\"> Şifre gerekli\n                       </div>\n                    </div>\n                \n                    <button type=\"submit\" class=\"btn btn-warning\" [disabled]=\"loginForm.invalid\" >Login</button>\n                    <p class=\"mt-2 mb-2\">Dont Have an account ? <a style=\"cursor: pointer;\" (click)=\"openRegister()\">Register Now</a> </p>\n                </form>\n            </div>\n\n        </div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}